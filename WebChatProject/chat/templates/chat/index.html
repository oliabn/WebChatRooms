{% load static %}
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <link rel="stylesheet" href="{% static 'styles/index_style.css' %}">
    <title>Chat Rooms</title>
</head>
<body>

    <div class="login_href">
        {% if request.user.is_authenticated %}
            <a href = "{% url 'logout_user' %}">Logout</a>
        {% else %}
            <a href = "{% url 'login_user' %}">Login</a>
        {% endif %}
    </div>


    <div class="form_item_container" id="form_item_container">
        <p id="help_text"> Enter the room name would you like to enter </p>
        <input id="room_name_input" type="text" size="100">
        <input id="room_name_submit" type="button" value="❯❯❯">
    </div>

<script>

    document.querySelector('#room_name_input').focus();

    // if enter was clicked than click on room_name_submit button
    document.querySelector('#room_name_input').onkeyup = function (e) {
        if (e.keyCode === 13) {  // enter, return
            document.querySelector('#room_name_submit').click();
        }
    };

    // if room_name_submit button was clicked than
    // get room name and go to the room page
    document.querySelector('#room_name_submit').onclick = function (e) {
        // get roomName from room_name_input
        var roomName = document.querySelector('#room_name_input').value;
        //change the path of the current page
        window.location.pathname = '/chat/' + roomName + '/';
    };
</script>

</body>
</html>